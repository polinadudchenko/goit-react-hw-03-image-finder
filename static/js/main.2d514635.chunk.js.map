{"version":3,"sources":["sevicies/fetch-api.js","sevicies/mapper.js","App.styled.js","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.styled.js","components/Button/Button.styled.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.js","components/Modal/Modal.styled.js","components/Modal/Modal.js","components/Loader/Loader.styled.js","components/Loader/Loader.js","App.js","index.js"],"names":["fetchApi","query","page","fetch","then","data","json","response","total","Promise","reject","mapper","images","map","id","galleryImg","webformatURL","modalImg","largeImageURL","tags","StyledApp","styled","div","StyledModalImg","img","StyledGalleryItem","li","StyledGalleryImage","ImageGalleryItem","onImgClick","src","alt","onClick","StyledGallery","ul","StyledButton","button","Button","loadMoreImages","type","ImageGallery","onHandleLoadBtn","error","status","onHandleModal","StyledSearchbar","header","StyledSearchForm","form","StyledSearchBtn","StyledSearchBtnLabel","span","StyledSearchInput","input","Searchbar","state","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","alert","this","onChange","autoComplete","autoFocus","placeholder","Component","StyledOverlay","StyledModal","modalRoot","document","getElementById","Modal","handleEscape","code","onClose","handleClose","target","window","addEventListener","removeEventListener","createPortal","children","StyledLoader","Loader","color","height","width","timeout","Status","App","showModal","fetchImage","newImages","hits","prevState","catch","toast","toggleModal","openModal","handleLoadButton","handleModal","dataset","modal","prevProps","prevQuery","nextQuery","prevPage","nextPage","info","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2d514635.chunk.js","sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23620091-2d5d28040986b37b269a969d4';\r\n\r\nexport default function fetchApi(query, page) {\r\n    return fetch(`${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(data => data.json())\r\n        .then(response => {\r\n            if (response.total === 0) {\r\n                return Promise.reject(`No images with query \"${query}\" found`)\r\n            }\r\n            return response\r\n        })\r\n}","export default function mapper(images) {\r\n    return images.map(({ id, webformatURL: galleryImg, largeImageURL: modalImg, tags }) => ({\r\n        id, galleryImg, modalImg, tags\r\n    }));\r\n}","import styled from 'styled-components'\r\n\r\nconst StyledApp = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 16px;\r\n    padding-bottom: 24px;\r\n`;\r\n\r\nconst StyledModalImg = styled.img`\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: 100%\r\n    height: 100%\r\n`;\r\n\r\nexport {StyledApp, StyledModalImg}","import styled from 'styled-components'\r\n\r\nconst StyledGalleryItem = styled.li`\r\n    border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst StyledGalleryImage = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n  transform: scale(1.03);\r\n  cursor: zoom-in;\r\n}\r\n`;\r\n\r\nexport {StyledGalleryItem, StyledGalleryImage}\r\n","import PropTypes from 'prop-types'\r\nimport {StyledGalleryItem, StyledGalleryImage} from './ImageGalleryItem.styled'\r\n\r\n\r\nexport default function ImageGalleryItem({ images, onImgClick }) {\r\n  return images.map(({ id, galleryImg, modalImg, tags}) => {\r\n    return <StyledGalleryItem key={id}>\r\n      <StyledGalleryImage src={galleryImg} alt={tags} data-modal={modalImg} onClick={ onImgClick}/>\r\n    </StyledGalleryItem>\r\n  })\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      galleryImg: PropTypes.string.isRequired,\r\n      modalImg: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })),\r\n    onImgClick: PropTypes.func.isRequired,\r\n}","import styled from 'styled-components'\r\n\r\nconst StyledGallery = styled.ul`\r\n    display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport {StyledGallery}","import styled from 'styled-components'\r\n\r\nconst StyledButton = styled.button`\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    max-width: 280px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n\r\n    &:hover,\r\n    &:focus {\r\n    background-color: #303f9f;\r\n    }\r\n`;\r\n\r\nexport { StyledButton}","import PropTypes from 'prop-types';\r\nimport { StyledButton } from './Button.styled';\r\n\r\nexport default function Button({loadMoreImages}) {\r\n    return <>\r\n            <StyledButton id='load-btn' type='button' onClick={loadMoreImages}>Load more</StyledButton>\r\n        </>\r\n}\r\n\r\nButton.propTypes = {\r\n    loadMoreImages: PropTypes.func.isRequired,\r\n}","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport { StyledGallery } from './ImageGallery.styled';\r\nimport Button from '../Button';\r\n\r\n\r\nfunction ImageGallery({images, error, status, onHandleLoadBtn, onHandleModal}) {\r\n  \r\n  return <>\r\n    <StyledGallery>\r\n        <ImageGalleryItem images={images} onImgClick={ onHandleModal}/>\r\n    </StyledGallery>\r\n    <Button loadMoreImages={onHandleLoadBtn} />\r\n    </>\r\n}\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      galleryImg: PropTypes.string.isRequired,\r\n      modalImg: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })),\r\n    error: PropTypes.string,\r\n    status: PropTypes.string.isRequired,\r\n    onHandleModal: PropTypes.func.isRequired,\r\n    onHandleLoadBtn: PropTypes.func.isRequired,\r\n  }  \r\nexport default ImageGallery","import styled from 'styled-components'\r\n\r\nconst StyledSearchbar = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst StyledSearchForm = styled.form`\r\n    display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst StyledSearchBtn = styled.button`\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url('');\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n\r\n    &:hover {\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\nconst StyledSearchBtnLabel = styled.span`\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n`;\r\n\r\nconst StyledSearchInput = styled.input`\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n\r\n\r\n    &::placeholder {\r\n        font: inherit;\r\n        font-size: 18px;\r\n    }\r\n`;\r\n\r\nexport {StyledSearchbar, StyledSearchForm, StyledSearchBtn, StyledSearchBtnLabel, StyledSearchInput}","import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\nimport {StyledSearchbar, StyledSearchForm, StyledSearchBtn, StyledSearchBtnLabel, StyledSearchInput} from './Searchbar.styled'\r\n\r\nclass Searchbar extends Component {\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  }\r\n\r\n  state = {\r\n    input: '',\r\n\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({input: e.currentTarget.value})\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const { input } = this.state;\r\n    if (input.trim() === 0) {\r\n      alert('type a query')\r\n      return\r\n    }\r\n\r\n    this.props.onSubmit(input);\r\n    this.setState({input: ''})\r\n\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    return <StyledSearchbar>\r\n    <StyledSearchForm onSubmit={this.handleSubmit}>\r\n      <StyledSearchBtn type=\"submit\">\r\n        <StyledSearchBtnLabel>Search</StyledSearchBtnLabel>\r\n      </StyledSearchBtn>\r\n\r\n        <StyledSearchInput\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={input}\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n        />\r\n    </StyledSearchForm>\r\n  </StyledSearchbar>\r\n  }\r\n}\r\n\r\nexport default Searchbar","import styled from 'styled-components'\r\n\r\nconst StyledOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nconst StyledModal = styled.div`\r\n  max-width: calc(100vw - 192px);\r\n  max-height: calc(100vh - 96px);\r\n`;\r\n\r\nexport {StyledOverlay, StyledModal}","import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport{StyledOverlay, StyledModal} from './Modal.styled'\r\n\r\nconst modalRoot = document.getElementById('modal-root')\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape)\r\n  }\r\n\r\n  handleEscape = (e) => {\r\n    if (e.code === 'Escape') {\r\n        this.props.onClose()\r\n    }\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return createPortal(<StyledOverlay onClick={this.handleClose}>\r\n        <StyledModal>\r\n          {this.props.children}\r\n        </StyledModal>\r\n      </StyledOverlay>, modalRoot)\r\n  }  \r\n  \r\n}\r\n\r\nexport default Modal","import styled from 'styled-components'\r\n\r\nconst StyledLoader = styled.div`\r\n    text-align: center\r\n`\r\n\r\nexport {StyledLoader}","import Spinner from \"react-loader-spinner\";\r\nimport { StyledLoader } from \"./Loader.styled\";\r\n\r\nexport default function Loader() {\r\n    return <StyledLoader><Spinner\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n    />\r\n    </StyledLoader>\r\n}","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport fetchApi from './sevicies/fetch-api';\nimport mapper from './sevicies/mapper';\nimport {StyledApp, StyledModalImg} from './App.styled';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n\n  state = {\n    query: '',\n    modalImg: '',\n    showModal: false,\n    images: [],\n    error: null,\n    page: 1,\n    status: Status.IDLE,\n  }\n\n  \n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    \n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING })\n      this.fetchImage();\n    }    \n  }\n\n  fetchImage = () => {\n    const { query, page } = this.state;\n      fetchApi(query, page).then(response => {\n        const newImages = mapper(response.hits);\n        this.setState(prevState => (\n          { images: [...prevState.images, ...newImages], status: Status.RESOLVED }\n        ))\n      }).catch(error => {\n        this.setState({ error, status: Status.REJECTED })\n        toast.error(error)\n      })\n  }\n\n  handleSubmit = (query) => {\n    this.setState({query, page: 1, images: []})\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n\n  openModal = (modalImg) => {\n    this.setState({modalImg})\n  }\n\n  handleLoadButton = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }))\n  }\n  \n  handleModal = (e) => {\n    this.openModal(e.target.dataset.modal);\n    this.toggleModal();\n  }\n\n  getInfoNote() {\n      toast.info('Please type a query in the search field')\n  }\n\n  getErrorNote(error) {\n      toast.error(error)\n  }\n\n  render() {\n    const { query, showModal, modalImg, images, error, status } = this.state;\n    return <StyledApp>\n      <Searchbar onSubmit={this.handleSubmit} />\n      {status === Status.PENDING && <Loader />}\n      {status === Status.RESOLVED &&\n        <ImageGallery images={images} error={error} status={status} onHandleModal={this.handleModal} onHandleLoadBtn={this.handleLoadButton} />\n      }\n      {showModal && <Modal onClose={this.toggleModal}><StyledModalImg src={modalImg} alt={query} /></Modal>}\n      <ToastContainer autoClose={3000}/>\n    </StyledApp> \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}