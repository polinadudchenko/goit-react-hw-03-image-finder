{"version":3,"sources":["App.styled.js","components/Loader/Loader.styled.js","components/Loader/Loader.js","sevicies/fetch-api.js","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.styled.js","components/Button/Button.styled.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","sevicies/mapper.js","components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.js","components/Modal/Modal.styled.js","components/Modal/Modal.js","App.js","index.js"],"names":["StyledApp","styled","div","StyledModalImg","img","StyledLoader","Loader","type","color","height","width","timeout","StyledGalleryItem","li","StyledGalleryImage","ImageGalleryItem","images","onImgClick","map","id","galleryImg","modalImg","tags","src","alt","onClick","StyledGallery","ul","StyledButton","button","Button","loadMoreImages","Status","ImageGallery","props","state","error","page","status","showModal","handleLoadButton","setState","prevState","handleModal","e","onOpenModal","onToggleModal","target","dataset","modal","imagesRef","React","createRef","prevProps","console","log","this","image","btnRef","current","scrollHeight","scrollTop","snapshot","query","prevQuery","nextQuery","prevPage","nextPage","fetch","then","data","json","response","total","Promise","reject","newImages","hits","webformatURL","largeImageURL","catch","imgRef","toast","info","Component","StyledSearchbar","header","StyledSearchForm","form","StyledSearchBtn","StyledSearchBtnLabel","span","StyledSearchInput","input","Searchbar","handleChange","currentTarget","value","handleSubmit","preventDefault","trim","onSubmit","alert","onChange","autoComplete","autoFocus","placeholder","StyledOverlay","StyledModal","modalRoot","document","getElementById","Modal","handleEscape","code","onClose","handleClose","window","addEventListener","removeEventListener","createPortal","children","App","toggleModal","openModal","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.116791f2.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nconst StyledApp = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 16px;\r\n    padding-bottom: 24px;\r\n`;\r\n\r\nconst StyledModalImg = styled.img`\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: 100%\r\n    height: 100%\r\n`;\r\n\r\nexport {StyledApp, StyledModalImg}","import styled from 'styled-components'\r\n\r\nconst StyledLoader = styled.div`\r\n    text-align: center\r\n`\r\n\r\nexport {StyledLoader}","import Spinner from \"react-loader-spinner\";\r\nimport { StyledLoader } from \"./Loader.styled\";\r\n\r\nexport default function Loader() {\r\n    return <StyledLoader><Spinner\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n    />\r\n    </StyledLoader>\r\n}","const BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23620091-2d5d28040986b37b269a969d4';\r\n\r\nexport default function fetchImage(query, page) {\r\n    return fetch(`${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(data => data.json())\r\n        .then(response => {\r\n            if (response.total === 0) {\r\n                return Promise.reject(`No images with query \"${query}\" found`)\r\n            }\r\n            return response\r\n        })\r\n}","import styled from 'styled-components'\r\n\r\nconst StyledGalleryItem = styled.li`\r\n    border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst StyledGalleryImage = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n  transform: scale(1.03);\r\n  cursor: zoom-in;\r\n}\r\n`;\r\n\r\nexport {StyledGalleryItem, StyledGalleryImage}\r\n","import PropTypes from 'prop-types'\r\nimport {StyledGalleryItem, StyledGalleryImage} from './ImageGalleryItem.styled'\r\n\r\n\r\nexport default function ImageGalleryItem({ images, onImgClick }) {\r\n  return images.map(({ id, galleryImg, modalImg, tags}) => {\r\n    return <StyledGalleryItem key={id}>\r\n      <StyledGalleryImage src={galleryImg} alt={tags} data-modal={modalImg} onClick={ onImgClick}/>\r\n    </StyledGalleryItem>\r\n  })\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    galleryImg: PropTypes.string.isRequired,\r\n    modalImg: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    })),\r\n    onImgClick: PropTypes.func.isRequired,\r\n}","import styled from 'styled-components'\r\n\r\nconst StyledGallery = styled.ul`\r\n    display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport {StyledGallery}","import styled from 'styled-components'\r\n\r\nconst StyledButton = styled.button`\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    max-width: 280px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n\r\n    &:hover,\r\n    &:focus {\r\n    background-color: #303f9f;\r\n    }\r\n`;\r\n\r\nexport { StyledButton}","import PropTypes from 'prop-types';\r\nimport { StyledButton } from './Button.styled';\r\n\r\nexport default function Button({loadMoreImages}) {\r\n    return <>\r\n            <StyledButton id='load-btn' type='button' onClick={loadMoreImages}>Load more</StyledButton>\r\n        </>\r\n}\r\n\r\nButton.propTypes = {\r\n    loadMoreImages: PropTypes.func.isRequired,\r\n}","import PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport React, { Component } from 'react';\r\nimport Loader from '../Loader';\r\nimport fetchImage from '../../sevicies/fetch-api';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport { StyledGallery } from './ImageGallery.styled';\r\nimport mapper from '../../sevicies/mapper';\r\nimport Button from '../Button';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.imagesRef = React.createRef();\r\n  }\r\n\r\n  static propTypes = {\r\n    query: PropTypes.string.isRequired,\r\n    onToggleModal: PropTypes.func.isRequired,\r\n    onOpenModal: PropTypes.func.isRequired,\r\n  }\r\n\r\n  state = {\r\n    images: [],\r\n    error: null,\r\n    page: 1,\r\n    status: Status.IDLE,\r\n    showModal: false,\r\n  }\r\n\r\n  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    console.log(this.imagesRef );\r\n\r\n    if (prevState.page < this.state.page) {\r\n      const image = this.btnRef.current;\r\n      return image.scrollHeight - image.scrollTop;\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const prevQuery = prevProps.query;\r\n    const nextQuery = this.props.query;\r\n\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({page: 1})\r\n    }\r\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\r\n      this.setState({ status: Status.PENDING })\r\n      fetchImage(nextQuery, this.state.page).then(response => {\r\n        const newImages = mapper(response.hits);\r\n        this.setState(prevState => (\r\n          { images: [...prevState.images, ...newImages], status: Status.RESOLVED }\r\n        ))\r\n      }).catch(error => {\r\n        this.setState({ error, status: Status.REJECTED })\r\n      })\r\n      \r\n    }\r\n\r\n    if (snapshot !== null) {\r\n      const img = this.imgRef.current;\r\n      img.scrollTop = img.scrollHeight - snapshot;\r\n    }\r\n    \r\n  }\r\n\r\n  handleLoadButton = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }))\r\n  }\r\n  \r\n  handleModal = (e) => {\r\n    const { onOpenModal, onToggleModal } = this.props;\r\n    onOpenModal(e.target.dataset.modal);\r\n    onToggleModal();\r\n  }\r\n\r\n  render() {\r\n    const { images, error, status } = this.state;\r\n    \r\n    if (status === \"idle\") {\r\n      toast.info('Please type a query in the search field')\r\n      return null;\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return (\r\n      <Loader />\r\n    );\r\n    }\r\n    if (status === \"resolved\") {\r\n      return images && <>\r\n        <StyledGallery>\r\n          <ImageGalleryItem images={images} onImgClick={ this.handleModal}/>\r\n        </StyledGallery>\r\n        <Button loadMoreImages={ this.handleLoadButton}/>\r\n      </>\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      toast.error(error);\r\n      return null;\r\n    }\r\n    \r\n  }\r\n  \r\n}\r\n\r\nexport default ImageGallery","export default function mapper(images) {\r\n    return images.map(({ id, webformatURL: galleryImg, largeImageURL: modalImg, tags }) => ({\r\n        id, galleryImg, modalImg, tags\r\n    }));\r\n}","import styled from 'styled-components'\r\n\r\nconst StyledSearchbar = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst StyledSearchForm = styled.form`\r\n    display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst StyledSearchBtn = styled.button`\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url('');\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n\r\n    &:hover {\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\nconst StyledSearchBtnLabel = styled.span`\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n`;\r\n\r\nconst StyledSearchInput = styled.input`\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n\r\n\r\n    &::placeholder {\r\n        font: inherit;\r\n        font-size: 18px;\r\n    }\r\n`;\r\n\r\nexport {StyledSearchbar, StyledSearchForm, StyledSearchBtn, StyledSearchBtnLabel, StyledSearchInput}","import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\nimport {StyledSearchbar, StyledSearchForm, StyledSearchBtn, StyledSearchBtnLabel, StyledSearchInput} from './Searchbar.styled'\r\n\r\nclass Searchbar extends Component {\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  }\r\n\r\n  state = {\r\n    input: '',\r\n\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({input: e.currentTarget.value})\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const { input } = this.state;\r\n    if (input.trim() === 0) {\r\n      alert('type a query')\r\n      return\r\n    }\r\n\r\n    this.props.onSubmit(input);\r\n    this.setState({input: ''})\r\n\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    return <StyledSearchbar>\r\n    <StyledSearchForm onSubmit={this.handleSubmit}>\r\n      <StyledSearchBtn type=\"submit\">\r\n        <StyledSearchBtnLabel>Search</StyledSearchBtnLabel>\r\n      </StyledSearchBtn>\r\n\r\n        <StyledSearchInput\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={input}\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n        />\r\n    </StyledSearchForm>\r\n  </StyledSearchbar>\r\n  }\r\n}\r\n\r\nexport default Searchbar","import styled from 'styled-components'\r\n\r\nconst StyledOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nconst StyledModal = styled.div`\r\n  max-width: calc(100vw - 192px);\r\n  max-height: calc(100vh - 96px);\r\n`;\r\n\r\nexport {StyledOverlay, StyledModal}","import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport{StyledOverlay, StyledModal} from './Modal.styled'\r\n\r\nconst modalRoot = document.getElementById('modal-root')\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape)\r\n  }\r\n\r\n  handleEscape = (e) => {\r\n    if (e.code === 'Escape') {\r\n        this.props.onClose()\r\n    }\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return createPortal(<StyledOverlay onClick={this.handleClose}>\r\n        <StyledModal>\r\n          {this.props.children}\r\n        </StyledModal>\r\n      </StyledOverlay>, modalRoot)\r\n  }  \r\n  \r\n}\r\n\r\nexport default Modal","import React, { Component } from 'react';\nimport { ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {StyledApp, StyledModalImg} from './App.styled';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport '../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n\n  state = {\n    query: '',\n    modalImg: '',\n    showModal: false,\n  }\n\n  handleSubmit = (input) => {\n    this.setState({query: input})\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n\n  openModal = (modalImg) => {\n    this.setState({modalImg})\n  }\n\n  render() {\n    const { query, showModal, modalImg } = this.state;\n    return <StyledApp>\n      <Searchbar onSubmit={this.handleSubmit} />\n      <ImageGallery query={query} onToggleModal={this.toggleModal} onOpenModal={this.openModal }/>\n      {showModal && <Modal onClose={this.toggleModal}><StyledModalImg src={modalImg} alt={ query}/></Modal>}\n      <ToastContainer autoClose={3000}/>\n    </StyledApp>\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}